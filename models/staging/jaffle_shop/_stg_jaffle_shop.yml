models:
  - name: stg_customers
    columns:
      - name: customer_id
        tests:
          - not_null
          - unique
  - name: stg_locations
    columns:
      - name: location_id
        tests:
          - not_null
          - unique
  - name: stg_order_items
    columns:
      - name: order_item_id
        tests:
          - not_null
          - unique
  - name: stg_orders
    columns:
      - name: order_id
        tests:
          - not_null
          - unique
  - name: stg_products
    columns:
      - name: product_id
        tests:
          - not_null
          - unique
  - name: stg_supplies
    columns:
      - name: supply_uuid
        tests:
          - not_null
          - unique

# from dbt Fundamentals & Testing courses
# models:
#   - name: stg_jaffle_shop__customers
#     columns:
#       - name: customer_id
#         data_tests:
#           - unique
#           - not_null
#           - dbt_utils.cardinality_equality:
#               arguments:
#                 field: id
#                 to: source('jaffle_shop', 'customers')

#   - name: stg_jaffle_shop__orders
#     columns:
#       # - name: order_id
#       #   data_tests:
#       #     - unique
#       #     - not_null
#       - name: customer_id
#         data_tests:
#           - relationships:
#               arguments:
#                 to: ref('stg_jaffle_shop__customers')
#                 field: customer_id